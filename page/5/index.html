<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>chic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="chic">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="chic">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="chic" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">chic</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-engineering/2024-09-09-linux新机器安装nvidia驱动" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/09/engineering/2024-09-09-linux%E6%96%B0%E6%9C%BA%E5%99%A8%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/" class="article-date">
  <time class="dt-published" datetime="2024-09-09T01:45:21.000Z" itemprop="datePublished">2024-09-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/engineering/">engineering</a>►<a class="article-category-link" href="/categories/engineering/environment/">environment</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/09/engineering/2024-09-09-linux%E6%96%B0%E6%9C%BA%E5%99%A8%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/">linux新机器安装nvidia驱动</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>昨天搞的，有点记不清具体细节了。<br>首先查看显卡型号：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep -i nvidia</span><br></pre></td></tr></table></figure>

<p>在以下网页找到对应的显卡<br><a target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/drivers/">https://www.nvidia.com/en-us/drivers/</a></p>
<blockquote>
<p>加载可能很慢，稍等一会儿会出现选项</p>
</blockquote>
<p>我是T4，找到的最新驱动来自这里：<br><a target="_blank" rel="noopener" href="https://www.nvidia.cn/drivers/details/231206/">https://www.nvidia.cn/drivers/details/231206/</a></p>
<p>右键复制下载链接后，wget下载即可。<br>下载后发现是<code>.deb</code>文件，这个有点和我事先看好的教程不太一样，教程里写的是<code>.run</code>文件的安装。所以这里费了点功夫，最后参考的是天翼云的教程：<br><a target="_blank" rel="noopener" href="https://www.ctyun.cn/document/10027724/10256137">Ubuntu操作系统安装Nvidia GPU驱动</a></p>
<p>很管用，很详细，点赞。</p>
<p>句句解释：</p>
<p>在 Ubuntu 20.04 系统上安装 NVIDIA 显卡驱动程序和 CUDA 驱动程序的命令。</p>
<ol>
<li><p><code>dpkg -i /root/nvidia-driver-local-repo-ubuntu2004-470.129.06_1.0-1_amd64.deb</code></p>
<ul>
<li>这行命令使用 <code>dpkg</code> 工具安装了一个名为 <code>nvidia-driver-local-repo-ubuntu2004-470.129.06_1.0-1_amd64.deb</code> 的 Debian 软件包。这个软件包是 NVIDIA 官方提供的本地存储库,用于安装 NVIDIA 显卡驱动程序。</li>
</ul>
</li>
<li><p><code>apt-key --keyring /usr/share/keyrings/nvidia-driver-local-D9CB5EF8-keyring.gpg add /var/nvidia-driver-local-repo-ubuntu2004-470.129.06/D9CB5EF8.pub</code></p>
<ul>
<li>这行命令将 NVIDIA 本地存储库的 GPG 密钥添加到 Ubuntu 系统的受信任密钥列表中,以确保从该存储库安装的软件包能够被正确验证。</li>
</ul>
</li>
<li><p><code>apt-get update</code></p>
<ul>
<li>这行命令更新 Ubuntu 系统的软件包索引,以获取最新的软件包信息。</li>
</ul>
</li>
<li><p><code>apt-get install -y cuda-drivers</code></p>
<ul>
<li>这行命令从 NVIDIA 本地存储库安装 CUDA 驱动程序。<code>-y</code> 参数表示自动回答 “Yes” 以确认安装。</li>
</ul>
</li>
<li><p><code>apt-get purge -y nvidia-driver-local-repo-ubuntu2004-470.129.06</code></p>
<ul>
<li>这行命令删除之前安装的 NVIDIA 本地存储库软件包。<code>purge</code> 参数表示不仅删除软件包本身,还删除所有相关的配置文件。</li>
</ul>
</li>
<li><p><code>apt-key --keyring /usr/share/keyrings/nvidia-driver-local-D9CB5EF8-keyring.gpg del D9CB5EF8</code></p>
<ul>
<li>这行命令从 Ubuntu 系统的受信任密钥列表中删除之前添加的 NVIDIA 本地存储库的 GPG 密钥。</li>
</ul>
</li>
<li><p><code>rm -vf /etc/apt/preferences.d/nvidia</code></p>
<ul>
<li>这行命令删除一个可能存在的名为 <code>nvidia</code> 的文件,该文件可能会影响 NVIDIA 软件包的安装优先级。<code>-v</code> 参数表示显示详细的输出信息,<code>-f</code> 参数表示强制删除,即使该文件不存在也不会报错。</li>
</ul>
</li>
</ol>
<p>总的来说,这段代码的目的是在 Ubuntu 20.04 系统上安装 NVIDIA 显卡驱动程序和 CUDA 驱动程序,并在安装完成后清理相关的临时文件和密钥。这些步骤通常是在配置 NVIDIA GPU 加速环境时需要执行的操作。</p>
<p>略微不同之处是，我没有执行apt-key那一条语句，是直接执行了dpkg后，跳出了提示，让我用cp语句完成类似操作。这两者应该是等价的。但建议使用我的方式，因为天翼云提供的apt-key中使用的路径是适配天翼云的，而你自己dpkg后得到的提示是基于你自己的机子，那个路径才是正确的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/09/engineering/2024-09-09-linux%E6%96%B0%E6%9C%BA%E5%99%A8%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/" data-id="cmfp6md5a002isi2b271p45ll" data-title="linux新机器安装nvidia驱动" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-engineering/2024-09-06-windows无cpu启动stable-diffusion API接口" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/06/engineering/2024-09-06-windows%E6%97%A0cpu%E5%90%AF%E5%8A%A8stable-diffusion%20API%E6%8E%A5%E5%8F%A3/" class="article-date">
  <time class="dt-published" datetime="2024-09-06T02:27:50.000Z" itemprop="datePublished">2024-09-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/engineering/">engineering</a>►<a class="article-category-link" href="/categories/engineering/%E6%A8%A1%E5%9E%8B%E5%B7%A5%E7%A8%8B/">模型工程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/06/engineering/2024-09-06-windows%E6%97%A0cpu%E5%90%AF%E5%8A%A8stable-diffusion%20API%E6%8E%A5%E5%8F%A3/">windows无cpu启动stable-diffusion-webui</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/609620596">【奶奶看了也不会】AI绘画 Mac安装stable-diffusion-webui绘制AI妹子保姆级教程</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36645932/article/details/130183786">新手向，Stable Diffusion API 接口，在本地调用</a></p>
<h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>本文关于sd-webui的cpu部署部分，是基于参考文档的windows版修正，前半部分操作一致，但由于咱们算是开发人员，因此过于小白的步骤在此一带而过了，原文写得已经很详细。</p>
<h1 id="CPU部署"><a href="#CPU部署" class="headerlink" title="CPU部署"></a>CPU部署</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul>
<li>Python3.10.6版本（已安装其他版本也不要紧，X使用的就是3.11）</li>
<li>stable-diffusion-webui代码下载，下载地址：<a href="https://link.zhihu.com/?target=https://github.com/AUTOMATIC1111/stable-diffusion-webui">https://github.com/AUTOMATIC1111/stable-diffusion-webui</a></li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="依赖安装"><a href="#依赖安装" class="headerlink" title="依赖安装"></a>依赖安装</h3><ol>
<li>conda环境创建，此处不赘述</li>
<li>启动环境，从github上把stable-diffusion-webui的<a target="_blank" rel="noopener" href="https://zhida.zhihu.com/search?q=%E6%BA%90%E4%BB%A3%E7%A0%81&zhida_source=entity&is_preview=1">源代码</a>下载下来，进入到stable-diffusion-webui目录下，执行↓</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements_versions.txt</span><br></pre></td></tr></table></figure>

<h3 id="模型安装（下载）"><a href="#模型安装（下载）" class="headerlink" title="模型安装（下载）"></a>模型安装（下载）</h3><p>所谓模型安装其实就是下载到指定文件夹。</p>
<p><strong>官方模型下载（checkpoint模型）</strong></p>
<p>下载地址：<a href="https://link.zhihu.com/?target=https://huggingface.co/CompVis/stable-diffusion-v-1-4-original">https://huggingface.co/CompVis/stable-diffusion-v-1-4-original</a></p>
<p>下载 <code>sd-v1-4.ckpt</code> 或者 <code>sd-v1-4-full-ema.ckpt</code>。</p>
<p><strong>LoRA模型</strong></p>
<p>下载地址：<a href="https://link.zhihu.com/?target=https://civitai.com/models/6424/chilloutmix">https://civitai.com/models/6424</a></p>
<ul>
<li>对于<strong>checkpoint模型</strong>，请移动到<code>stable-diffusion-webui/models/Stable-diffusion</code>⽬录下</li>
<li>对于<strong>LoRA模型</strong>，请移动到<code>stable-diffusion-webui/models/Lora</code>目录下（没有就自己新建一个）</li>
<li>其他模型按对应的类型移到对应的目录下</li>
</ul>
<h2 id="运行项目（与原文有所不同）"><a href="#运行项目（与原文有所不同）" class="headerlink" title="运行项目（与原文有所不同）"></a>运行项目（与原文有所不同）</h2><h3 id="修改lanuch-py文件"><a href="#修改lanuch-py文件" class="headerlink" title="修改lanuch.py文件"></a><strong>修改lanuch.py文件</strong></h3><p>在原文件开头添加：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;no_proxy&quot;</span>] = <span class="string">&quot;localhost,127.0.0.1,::1&quot;</span></span><br></pre></td></tr></table></figure>

<p>这个是在本身使用代理服务的基础上修改代理设置，否则会报错：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ValueError: When localhost is not accessible, a shareable <span class="built_in">link</span> must be created. Please <span class="built_in">set</span> share=True or check your proxy settings to allow access to localhost.</span><br></pre></td></tr></table></figure>

<p>如果没挂代理，忽略这个设置也没问题。</p>
<blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://github.com/chenfei-wu/TaskMatrix/issues/250"> ValueError: When localhost is not accessible, a shareable link must be created. Please set share&#x3D;True.</a></p>
</blockquote>
<h3 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a><strong>运行项目</strong></h3><p>stable diffusion在windows部署（CPU版）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python launch.py --skip-torch-cuda-test --no-half --api</span><br></pre></td></tr></table></figure>

<p>这里面前两个启动参数，都测试过了，没有就会报错启动不了。最后一个<code>--api</code>，不确定如果没有的话会不会影响api调用，估计会吧！</p>
<h1 id="API接口"><a href="#API接口" class="headerlink" title="API接口"></a>API接口</h1><p>与参考文档基本一致，区别是，使用代理的情况下，同样需要添加<code>no_proxy</code>环境变量，最终的调用demo如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&quot;no_proxy&quot;</span>] = <span class="string">&quot;localhost,127.0.0.1,::1&quot;</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">  </span><br><span class="line">url = <span class="string">&quot;http://127.0.0.1:7860&quot;</span></span><br><span class="line">  </span><br><span class="line">payload = &#123;<span class="string">&quot;prompt&quot;</span>: <span class="string">&quot;puppy dog&quot;</span>, <span class="string">&quot;steps&quot;</span>: <span class="number">5</span>&#125;</span><br><span class="line">  </span><br><span class="line">response = requests.post(url=<span class="string">f&quot;<span class="subst">&#123;url&#125;</span>/sdapi/v1/txt2img&quot;</span>, json=payload)</span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">    r = response.json()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> r[<span class="string">&quot;images&quot;</span>]:</span><br><span class="line">        image = Image.<span class="built_in">open</span>(io.BytesIO(base64.b64decode(i.split(<span class="string">&quot;,&quot;</span>, <span class="number">1</span>)[<span class="number">0</span>])))</span><br><span class="line">        image.save(<span class="string">&quot;output.png&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(response.status_code, response.reason)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;response.text:&quot;</span>, response.text)</span><br></pre></td></tr></table></figure>

<p>跑了一下，效果还是蛮可以的，半分钟一张图。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/06/engineering/2024-09-06-windows%E6%97%A0cpu%E5%90%AF%E5%8A%A8stable-diffusion%20API%E6%8E%A5%E5%8F%A3/" data-id="cmfp6md59002esi2bb91k1imb" data-title="windows无cpu启动stable-diffusion-webui" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SD/" rel="tag">SD</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/win/" rel="tag">win</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" rel="tag">模型部署</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-brain/2024-09-06-github_page+obsidian实现个人笔记云管理" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/06/brain/2024-09-06-github_page+obsidian%E5%AE%9E%E7%8E%B0%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E4%BA%91%E7%AE%A1%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2024-09-06T01:30:30.000Z" itemprop="datePublished">2024-09-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%A3%A8%E5%88%80/">磨刀</a>►<a class="article-category-link" href="/categories/%E7%A3%A8%E5%88%80/obsidian/">obsidian</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/06/brain/2024-09-06-github_page+obsidian%E5%AE%9E%E7%8E%B0%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E4%BA%91%E7%AE%A1%E7%90%86/">github_page+obsidian实现个人笔记云管理</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>如题所示。</p>
<p>我的个人主页Use the <a target="_blank" rel="noopener" href="https://github.com/cotes2020/jekyll-theme-chirpy">Chirpy</a> theme for <a target="_blank" rel="noopener" href="https://jekyllrb.com/">Jekyll</a>，这套github page的部署方式有个问题，是写的文档必须以<code>YYYY-MM-DD-title</code>的格式命名，具体是<code>Jekyll</code>的限制还是<code>Chirpy</code>的限制我也不清楚。</p>
<p>此外，文档开头也需要一组”—“包围的文档属性说明，形式如下：</p>
<p><img src="/../../assets/img/Dingtalk_20240906094335.jpg" alt="文档属性说明"></p>
<p>这显然很麻烦，很快想到了用脚本或模板形式来快速创建符合格式的md文档。不想自己从头造轮子，马上想到的是利用vscode的活动模板，跟着下面这个教程做的：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45522541/article/details/114033756">vscode中设置markdown的活动模板</a></p>
<p>结合LLM，成功搞出了快速模板：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// Place your snippets for markdown here. Each snippet is defined under a snippet name and has a prefix, body and</span></span><br><span class="line">  <span class="comment">// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:</span></span><br><span class="line">  <span class="comment">// $1, $2 for tab stops, $0 for the final cursor position, and $&#123;1:label&#125;, $&#123;2:another&#125; for placeholders. Placeholders with the</span></span><br><span class="line">  <span class="comment">// same ids are connected.</span></span><br><span class="line">  <span class="comment">// Example:</span></span><br><span class="line">  <span class="comment">// &quot;Print to console&quot;: &#123;</span></span><br><span class="line">  <span class="comment">// &quot;prefix&quot;: &quot;log&quot;,</span></span><br><span class="line">  <span class="comment">// &quot;body&quot;: [</span></span><br><span class="line">  <span class="comment">//   &quot;console.log(&#x27;$1&#x27;);&quot;,</span></span><br><span class="line">  <span class="comment">//   &quot;$2&quot;</span></span><br><span class="line">  <span class="comment">// ],</span></span><br><span class="line">  <span class="comment">// &quot;description&quot;: &quot;Log output to console&quot;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;Insert Current Date&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;title&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;---&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;title:&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;author: X&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;date: $&#123;CURRENT_YEAR&#125;-$&#123;CURRENT_MONTH&#125;-$&#123;CURRENT_DATE&#125; $&#123;CURRENT_HOUR&#125;:$&#123;CURRENT_MINUTE&#125;:$&#123;CURRENT_SECOND&#125; +0800&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;categories: []&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;tags: []&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;---&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Insert current date in Markdown format&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>上面的大段注释是原本就带的，很有参考价值（指提供给LLM后，LLM能够写出符合格式的内容），这里的<code>prefix</code>字段实际上是触发活动模板的，类似你打下<code>main</code>后会触发<code>if __name__ == &#39;__main__&#39;</code>的模板。经过以上设置后，在markdown打下<code>title</code>，就会触发<code>body</code>中默认的内容，一行一行显示。</p>
<p>聪明的你发现了，这样只解决了文档属性的问题，标题呢？难道真的要写脚本来处理？</p>
<p>那么就到了今天的主题：obsidian + github_page</p>
<h1 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h1><p>利用obsidian的日记模板：</p>
<ol>
<li>使用obsidian打开你的github_page文件夹</li>
<li>设置-&gt;核心插件-&gt;日记-&gt;日期格式，这实际上是每次新建日记时的默认文件名，这里文件名就是YYYY-MM-DD，所以不用调了</li>
<li>与上一步同页，把新建日记存放位置改到<code>_post</code>里。我目前使用的方案是在<code>_post</code>下新建一个文件夹专门用来存放“日记”（其实是新笔记），写完笔记后把笔记转移到相应的其他文件夹下。obsidian新建日记的机制是，如果你在日记路径下已经有了一个名为当天日期的md文档，那点击日记只会跳转到该文档；如果你改了名字（例如在原标题上添加了实际笔记标题，如2024-09-06-今日笔记），那点击日记就会再新建一个日记（新的笔记模板），可以说非常方便了。</li>
<li>新建一个模板文档，date栏填写<code>&#123;&#123;date&#125;&#125; &#123;&#123;time:HH:mm:ss&#125;&#125; +0800</code>，这是符合obsidian格式的写法。这个模板路径显然是填到上一步同页的“日记模板位置”里。</li>
</ol>
<p>有些需要注意的点是，在obsidian中，文件属性不是以前文所看到的形式显示的，而是：</p>
<p><img src="/../../assets/img/Dingtalk_20240906103403.jpg"></p>
<p>在你填写完categories和tags之后呢，实际也并不是原先手写时的<code>[tag1, tag2]</code>形式，而是：</p>
<p><img src="/../../assets/img/Dingtalk_20240906103705.jpg"><br>但并不影响部署发布，<code>Jekyll</code>还是可以完美识别的。</p>
<p>自此，你可以在obsidian中丝滑创作笔记，推送库可以利用第三方插件<code>Git</code>，实现笔记全流程都在同一平台管理。你也可以继续使用obsidian的内部链接功能，只不过发布后不再是链接，只会保留标题名称。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/06/brain/2024-09-06-github_page+obsidian%E5%AE%9E%E7%8E%B0%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E4%BA%91%E7%AE%A1%E7%90%86/" data-id="cmfp6md4e0004si2b3irugldx" data-title="github_page+obsidian实现个人笔记云管理" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0%E7%AE%A1%E7%90%86/" rel="tag">笔记管理</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-pool/2024-09-05-日记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/05/pool/2024-09-05-%E6%97%A5%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2024-09-05T09:34:49.000Z" itemprop="datePublished">2024-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/diary/">diary</a>►<a class="article-category-link" href="/categories/diary/24%E5%B9%B4/">24年</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/05/pool/2024-09-05-%E6%97%A5%E8%AE%B0/">日记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>“langchain的作用就是进去看看他的doc用了什么库实现的功能，然后抄过来自己用”，今天对这句话感触颇深啊。</p>
<p>前情提要： [[2024-09-05-免费且私密的联网搜索组件duckduckgo]] 这篇中，我不是自己费劲搜索了可用的联网搜索api吗。因为英语不好，只能在中文社区搜索，对这个概念也没有官方的措辞，因此很是费劲。</p>
<p>但，在找到<code>duckduckgo</code>之后，顺藤摸瓜搜到集成了<code>duckduckgo-search</code>的<code>langchain</code>文档：<a target="_blank" rel="noopener" href="https://python.langchain.com/v0.2/docs/integrations/tools/">Tool</a></p>
<p>姐妹们兄弟们。这太逆天了。我之前找不到的那个s开头的api也在这里整整齐齐地放着。收费标准、原网址都写得明明白白。永远的神！langchain我的建议是别做代码库了，直接做AI应用工具社区吧！</p>
<p>今天做了很多事，暂时不一一说明了！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/05/pool/2024-09-05-%E6%97%A5%E8%AE%B0/" data-id="cmfp6md5p0046si2b0tb46vm4" data-title="日记" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-engineering/2024-09-05-免费且私密的联网搜索组件duckduckgo" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/05/engineering/2024-09-05-%E5%85%8D%E8%B4%B9%E4%B8%94%E7%A7%81%E5%AF%86%E7%9A%84%E8%81%94%E7%BD%91%E6%90%9C%E7%B4%A2%E7%BB%84%E4%BB%B6duckduckgo/" class="article-date">
  <time class="dt-published" datetime="2024-09-05T07:51:05.000Z" itemprop="datePublished">2024-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/engineering/">engineering</a>►<a class="article-category-link" href="/categories/engineering/pool/">pool</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/05/engineering/2024-09-05-%E5%85%8D%E8%B4%B9%E4%B8%94%E7%A7%81%E5%AF%86%E7%9A%84%E8%81%94%E7%BD%91%E6%90%9C%E7%B4%A2%E7%BB%84%E4%BB%B6duckduckgo/">免费且私密的联网搜索组件duckduckgo</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>玩agentscope（开源）的react_agent，试用其service板块的toolkit功能，在其中add一个联网搜索的插件，但其提供的联网插件都需要api-key，就想着用一个免费的。我记得是有一些，但忘了叫什么，一番搜索后最后引入了这个（不是我一开始记忆里的某个s开头的免费api），这准确来说是一个逆向封装后的包（信源：<a target="_blank" rel="noopener" href="https://linux.do/t/topic/122537">用duckduckgo的搜索API免费给大模型接入联网功能，让普通模型也能实现类似new bing的效果</a>），确实比较方便好用，看论坛说对网络有要求（可能是不能没有梯子，这方面没有测试），但个人使用感受是非常舒服快捷的。</p>
<h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>pypi包：<br><a target="_blank" rel="noopener" href="https://pypi.org/project/duckduckgo-search/#2-text---text-search-by-duckduckgocom">duckduckgo-search</a></p>
<p>github库：<br><a target="_blank" rel="noopener" href="https://github.com/deedy5/duckduckgo_search">duckduckgo_search</a></p>
<p>目前用的就是<code>DDGS().text(&#39;test&#39;, max_results=1)</code>，返回的格式是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[&#123;&#x27;title&#x27;: &#x27;Stardew Valley 中文维基&#x27;, &#x27;href&#x27;: &#x27;https://zh.stardewvalleywiki.com/Stardew_Valley_Wiki&#x27;, &#x27;body&#x27;: &#x27;星露谷物语是一个牧场类的rpg游戏。你继承了爷爷在星露谷的农场，但是你手头上只有最基础的农具和少许的金钱</span><br><span class="line">，你得靠此开始你的新生活。你能把这片杂草丛生的田地变成一个繁荣的家园吗？这很不容易，自从joja公司来到了小镇</span><br><span class="line">，以前的生活都变了。&#x27;&#125;]</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/05/engineering/2024-09-05-%E5%85%8D%E8%B4%B9%E4%B8%94%E7%A7%81%E5%AF%86%E7%9A%84%E8%81%94%E7%BD%91%E6%90%9C%E7%B4%A2%E7%BB%84%E4%BB%B6duckduckgo/" data-id="cmfp6md58002csi2b75fg6y98" data-title="免费且私密的联网搜索组件duckduckgo" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%BB%91%E7%A7%91%E6%8A%80/" rel="tag">黑科技</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-engineering/2024-09-04-windows命令行下载url文件" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/04/engineering/2024-09-04-windows%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BDurl%E6%96%87%E4%BB%B6/" class="article-date">
  <time class="dt-published" datetime="2024-09-04T05:42:04.000Z" itemprop="datePublished">2024-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/engineering/">engineering</a>►<a class="article-category-link" href="/categories/engineering/win/">win</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/04/engineering/2024-09-04-windows%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BDurl%E6%96%87%E4%BB%B6/">Windows命令行下载URL文件</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><p>最终使用的是这个方法：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u012910342/article/details/116278306">windows系统自带cmd命令下载文件(类似linux的wget下载文件)</a></p>
<p>一开始看的：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/cute-puli/p/14859208.html">windows命令行远程下载文件的五种方法</a></p>
<p>里面记录的方法，我用了方法一和方法二两种，用方法二的时候弄错了，没有写<code>-o</code>导致报错；写了还是报错，估计是权限问题，因为改到最终方法（powershell）就可以了。</p>
<h1 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h1><p>最后为了方便使用，写了脚本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">chcp 65001</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">setlocal enabledelayedexpansion</span><br><span class="line"></span><br><span class="line">:: 获取脚本所在路径</span><br><span class="line"><span class="built_in">set</span> <span class="string">&quot;scriptPath=%~dp0&quot;</span></span><br><span class="line"></span><br><span class="line">:: 提示用户输入URL</span><br><span class="line"><span class="built_in">set</span> /p <span class="string">&quot;userUrl=请输入URL: &quot;</span></span><br><span class="line"></span><br><span class="line">:: 从URL中提取文件路径</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f <span class="string">&quot;tokens=1 delims=?&quot;</span> %%a <span class="keyword">in</span> (<span class="string">&quot;!userUrl!&quot;</span>) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">set</span> <span class="string">&quot;filePath=%%a&quot;</span></span><br><span class="line">    <span class="built_in">set</span> <span class="string">&quot;repoPath=%%a&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">for</span> /f <span class="string">&quot;tokens=3,* delims=/&quot;</span> %%a <span class="keyword">in</span> (<span class="string">&quot;%repoPath%&quot;</span>) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">set</span> <span class="string">&quot;repoPath=%%b&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> %%i <span class="keyword">in</span> (<span class="string">&quot;%repoPath%&quot;</span>) <span class="keyword">do</span> <span class="built_in">set</span> DIRECTORY=%%~dpi</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f <span class="string">&quot;tokens=6,* delims=/&quot;</span> %%a <span class="keyword">in</span> (<span class="string">&quot;%filePath%&quot;</span>) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">set</span> <span class="string">&quot;filePath=%%b&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 文件路径：!DIRECTORY!</span><br><span class="line"><span class="built_in">echo</span> filepath: %filePath%</span><br><span class="line"></span><br><span class="line">:: 生成保存的完整路径</span><br><span class="line"><span class="built_in">set</span> <span class="string">&quot;savePath=!DIRECTORY!%filePath%&quot;</span></span><br><span class="line"></span><br><span class="line">:: 创建目录（如果不存在的话）</span><br><span class="line"><span class="built_in">mkdir</span> <span class="string">&quot;!DIRECTORY!&quot;</span> &gt;nul 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">:: 使用certutil工具下载文件</span><br><span class="line">powershell curl <span class="string">&quot;%userUrl%&quot;</span> -o <span class="string">&quot;%savePath%&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 文件已下载到: %savePath%</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<p>脚本中，首先获取脚本所在路径，然后提示用户输入URL，并从URL中提取文件路径。接着，使用powershell的curl命令下载文件，并将下载的文件保存到指定的路径。最后，打印下载完成的信息，并暂停脚本。</p>
<p>一个比较重要的部分是<code>chcp 65001</code>，这条命令用于设置当前代码页为UTF-8编码，防止中文乱码。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/04/engineering/2024-09-04-windows%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BDurl%E6%96%87%E4%BB%B6/" data-id="cmfp6md580028si2b7odcg8h1" data-title="Windows命令行下载URL文件" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%8B%E8%BD%BD/" rel="tag">下载</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%BB%91%E7%A7%91%E6%8A%80/" rel="tag">黑科技</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-engineering/2024-09-04-conda重命名" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/04/engineering/2024-09-04-conda%E9%87%8D%E5%91%BD%E5%90%8D/" class="article-date">
  <time class="dt-published" datetime="2024-09-04T03:26:00.000Z" itemprop="datePublished">2024-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/engineering/">engineering</a>►<a class="article-category-link" href="/categories/engineering/environment/">environment</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/04/engineering/2024-09-04-conda%E9%87%8D%E5%91%BD%E5%90%8D/">conda重命名</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://docs.conda.io/projects/conda/en/23.5.x/commands/rename.html">conda官网教程</a></p>
<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda rename [-h] [-n ENVIRONMENT | -p PATH] [--force] [-d] destination</span><br></pre></td></tr></table></figure>

<p>本人的使用场景是，在vscode使用在文件夹中自动创建的conda环境，即<code>.conda</code>文件夹，该环境在工作区中运行，此环境没有名称，只有路径，通过<code>conda info</code>可以查询，但使用时较为麻烦，故重命名。</p>
<p>示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda rename -p <span class="string">&quot;C:\Users\work\project\.conda&quot;</span> <span class="string">&quot;project&quot;</span></span><br></pre></td></tr></table></figure>

<p>提示：<br>实际并非重命名，而是将环境移动到新位置，并删除旧位置。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/04/engineering/2024-09-04-conda%E9%87%8D%E5%91%BD%E5%90%8D/" data-id="cmfp6md570024si2b2ozi2xj8" data-title="conda重命名" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/conda/" rel="tag">conda</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-engineering/2024-08-13-linux服务器离线安装anaconda" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/08/13/engineering/2024-08-13-linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85anaconda/" class="article-date">
  <time class="dt-published" datetime="2024-08-13T07:06:31.000Z" itemprop="datePublished">2024-08-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/engineering/">engineering</a>►<a class="article-category-link" href="/categories/engineering/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/08/13/engineering/2024-08-13-linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85anaconda/">linux服务器离线安装anaconda</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="步骤1-下载anaconda-sh至本地"><a href="#步骤1-下载anaconda-sh至本地" class="headerlink" title="步骤1 下载anaconda.sh至本地"></a>步骤1 下载anaconda.sh至本地</h2><p>下载地址：<a target="_blank" rel="noopener" href="https://repo.anaconda.com/archive/">Index of &#x2F; (anaconda.com)</a><br>服务器版本查看：<code>uname -a</code><br>下载相应版本的sh文件到本地</p>
<h2 id="步骤2-上传sh文件至指定服务器"><a href="#步骤2-上传sh文件至指定服务器" class="headerlink" title="步骤2 上传sh文件至指定服务器"></a>步骤2 上传sh文件至指定服务器</h2><p>这个不多说了，xftp自己传一下</p>
<h2 id="步骤3-静音安装"><a href="#步骤3-静音安装" class="headerlink" title="步骤3 静音安装"></a>步骤3 静音安装</h2><p>强调静音安装，是因为常规安装指定会需要不断按回车和输入yes认证，用我的办法可以规避这种麻烦。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/anaconda3</span><br><span class="line">bash ~/yourpath/anaconda.sh -b -u -p ~/anaconda3</span><br><span class="line"><span class="built_in">rm</span> -rf ~/yourpath/anaconda.sh</span><br></pre></td></tr></table></figure>

<p>注意这里bash指令结尾的<code>~/anaconda3</code>是安装路径，没写好的话会一大坨装错地方，linux没有撤回，很难受。<br>不过执行后控制台会打印perfix参数，这个对应的就是安装路径，快速检查一下对不对，如果错了直接ctrl+C停掉也来得及。<br>装完删除安装包，删不删见仁见智，不是必须的。<br>然后这时候应该还是调不出conda，初始化一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~/anaconda3/bin/conda init bash</span><br><span class="line">~/anaconda3/bin/conda init zsh</span><br></pre></td></tr></table></figure>

<p>控制台会提醒你重启会话，你可以重启也可以刷一下<code>.bashrc</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>这时候会发现已经在conda里了。</p>
<p><strong>随后就可以愉快的使用了</strong></p>
<p>参考文档：<br>一些操作借鉴的miniconda的官方文档：<a target="_blank" rel="noopener" href="https://docs.anaconda.com/miniconda/">Miniconda — Anaconda documentation</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/08/13/engineering/2024-08-13-linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85anaconda/" data-id="cmfp6md53001psi2bcodz1era" data-title="linux服务器离线安装anaconda" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/environment/" rel="tag">environment</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-coding/2024-08-13-Python获取类的属性" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/08/13/coding/2024-08-13-Python%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7/" class="article-date">
  <time class="dt-published" datetime="2024-08-13T01:06:31.000Z" itemprop="datePublished">2024-08-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/coding/">coding</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/08/13/coding/2024-08-13-Python%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7/">Python获取类的属性</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python-获取类的属性"><a href="#Python-获取类的属性" class="headerlink" title="Python 获取类的属性"></a>Python 获取类的属性</h1><p>在本文中，我们将介绍如何获取 Python 中类的属性。</p>
<h2 id="介绍属性"><a href="#介绍属性" class="headerlink" title="介绍属性"></a>介绍属性</h2><p>在 Python 中，类是通过属性和方法来定义的。属性是类的特征，方法是类的行为。了解如何获取类的属性是非常重要的，因为它允许我们在运行时动态地访问和操作类的特征。</p>
<h2 id="使用-dir-函数获取属性"><a href="#使用-dir-函数获取属性" class="headerlink" title="使用 dir() 函数获取属性"></a>使用 dir() 函数获取属性</h2><p>Python 内置的<code>dir()</code>函数可以获取一个对象的所有属性和方法。当我们调用<code>dir()</code>函数时，它会返回一个包含字符串的列表，每个字符串表示对象的一个属性或方法。我们可以通过这个列表来查看类的所有属性。</p>
<p>下面是一个示例，演示如何使用<code>dir()</code>函数来获取类的属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>.name = name</span><br><span class="line">        <span class="variable language_">self</span>.age = age</span><br><span class="line"></span><br><span class="line">person = Person(<span class="string">&quot;Alice&quot;</span>, <span class="number">25</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(person))</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;__class__&#x27;</span>, <span class="string">&#x27;__delattr__&#x27;</span>, <span class="string">&#x27;__dict__&#x27;</span>, <span class="string">&#x27;__dir__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__eq__&#x27;</span>, <span class="string">&#x27;__format__&#x27;</span>, <span class="string">&#x27;__ge__&#x27;</span>, <span class="string">&#x27;__getattribute__&#x27;</span>, <span class="string">&#x27;__gt__&#x27;</span>, <span class="string">&#x27;__hash__&#x27;</span>, <span class="string">&#x27;__init__&#x27;</span>, <span class="string">&#x27;__init_subclass__&#x27;</span>, <span class="string">&#x27;__le__&#x27;</span>, <span class="string">&#x27;__lt__&#x27;</span>, <span class="string">&#x27;__module__&#x27;</span>, <span class="string">&#x27;__ne__&#x27;</span>, <span class="string">&#x27;__new__&#x27;</span>, <span class="string">&#x27;__reduce__&#x27;</span>, <span class="string">&#x27;__reduce_ex__&#x27;</span>, <span class="string">&#x27;__repr__&#x27;</span>, <span class="string">&#x27;__setattr__&#x27;</span>, <span class="string">&#x27;__sizeof__&#x27;</span>, <span class="string">&#x27;__str__&#x27;</span>, <span class="string">&#x27;__subclasshook__&#x27;</span>, <span class="string">&#x27;__weakref__&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;name&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>从输出结果中，我们可以看到类的属性<code>name</code>和<code>age</code>被列出。</p>
<h2 id="使用-vars-函数获取属性"><a href="#使用-vars-函数获取属性" class="headerlink" title="使用 vars() 函数获取属性"></a>使用 vars() 函数获取属性</h2><p>除了<code>dir()</code>函数之外，我们还可以使用内置的<code>vars()</code>函数来获取类的属性。<code>vars()</code>函数返回一个字典，其中键是属性名，值是属性的值。这个函数只适用于类的实例，而不是类本身。</p>
<p>下面是一个示例，演示如何使用<code>vars()</code>函数来获取类的属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, radius</span>):</span><br><span class="line">        <span class="variable language_">self</span>.radius = radius</span><br><span class="line"></span><br><span class="line">circle = Circle(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">vars</span>(circle))</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;radius&#x27;</span>: <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>

<p>从输出结果中，我们可以看到类的属性<code>radius</code>及其对应的值被列出。</p>
<h2 id="使用-getattr-和-hasattr-函数"><a href="#使用-getattr-和-hasattr-函数" class="headerlink" title="使用 getattr() 和 hasattr() 函数"></a>使用 getattr() 和 hasattr() 函数</h2><p>除了<code>dir()</code>和<code>vars()</code>函数之外，我们还可以使用内置的<code>getattr()</code>和<code>hasattr()</code>函数来获取类的属性。<code>getattr()</code>函数用于获取属性的值，<code>hasattr()</code>函数用于检查属性是否存在。</p>
<p>下面是一个示例，演示如何使用<code>getattr()</code>和<code>hasattr()</code>函数来获取和检查类的属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, brand, model, year</span>):</span><br><span class="line">        <span class="variable language_">self</span>.brand = brand</span><br><span class="line">        <span class="variable language_">self</span>.model = model</span><br><span class="line">        <span class="variable language_">self</span>.year = year</span><br><span class="line"></span><br><span class="line">car = Car(<span class="string">&quot;Tesla&quot;</span>, <span class="string">&quot;Model S&quot;</span>, <span class="number">2022</span>)</span><br><span class="line"></span><br><span class="line">model = <span class="built_in">getattr</span>(car, <span class="string">&quot;model&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">hasattr</span>(car, <span class="string">&quot;color&quot;</span>):</span><br><span class="line">    color = <span class="built_in">getattr</span>(car, <span class="string">&quot;color&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(color)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The car has no color.&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Model S</span><br><span class="line">The car has no color.</span><br></pre></td></tr></table></figure>

<p>在上面的示例中，我们首先使用<code>getattr()</code>函数获取类的属性<code>model</code>的值，并打印出来。然后使用<code>hasattr()</code>函数检查类的属性<code>color</code>是否存在，如果存在则使用<code>getattr()</code>函数获取其值，并打印出来。如果属性<code>color</code>不存在，则输出一个提示消息。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/08/13/coding/2024-08-13-Python%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7/" data-id="cmfp6md4j000asi2bb5wr91kj" data-title="Python获取类的属性" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" rel="tag">数据处理</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-coding/2024-08-13-chatglm-PPO训练路径探索" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/08/13/coding/2024-08-13-chatglm-PPO%E8%AE%AD%E7%BB%83%E8%B7%AF%E5%BE%84%E6%8E%A2%E7%B4%A2/" class="article-date">
  <time class="dt-published" datetime="2024-08-13T01:06:31.000Z" itemprop="datePublished">2024-08-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/coding/">coding</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/08/13/coding/2024-08-13-chatglm-PPO%E8%AE%AD%E7%BB%83%E8%B7%AF%E5%BE%84%E6%8E%A2%E7%B4%A2/">chatglm-PPO训练路径探索</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>已有基于求解器的评测系统，等于在数学建模大模型这一品类下，不存在人类专家奖励分数难以获取的情况，可以直接获取标准化的评测分数。因此，初步调研认为，使用PPO无疑是方便且能够最大程度发挥数学建模大模型特色的。</p>
<h1 id="RLHF调研"><a href="#RLHF调研" class="headerlink" title="RLHF调研"></a>RLHF调研</h1><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://huggingface.co/blog/zh/rlhf">ChatGPT 背后的“功臣”——RLHF 技术详解 (huggingface.co)</a></p>
<p>步骤1：收集数据与有监督训练策略</p>
<p>从数据集中采样的prompt提问</p>
<p>数据标注者（人工）给出最合理的回答，组成问答机制对&lt; Q , A &gt; &lt;Q,A&gt;&lt;Q,A&gt;</p>
<p>利用问答机制通过SFT有监督精调GPT3.5，得到策略policy</p>
<p>图片</p>
<p>步骤2：收集数据训练奖励模型</p>
<p>继续采样prompt，将prompt输入一个或多个 LLM 生成对比数据。他们产生了几对提示-答案&lt; Q , A &gt; &lt;Q,A&gt;&lt;Q,A&gt;</p>
<p>人类标注者根据模型回答的质量，对回答的好坏进行排序（收集人类反馈）</p>
<p>得到排序的数据集后，训练奖励模型，奖励模型能够根据输入给出一个标量奖励值，代表人类对这些输出或行为的偏好<br>经过充分的训练，奖励模型可以在没有人为干预的情况下对智能体的输出或行为进行打分，以量化其符合人类偏好的程度</p>
<p>图片</p>
<p>图中的ELO是指建立其人类对于输出的相对排名</p>
<p>步骤3：结合奖励模型利用强化学习算法如PPO算法来优化策略</p>
<p>再次采样prompt，利用PPO模型（由前面第一步得到的策略初始化）产生结果得到&lt; Q , A &gt; &lt;Q,A&gt;&lt;Q,A&gt;</p>
<p>将&lt; Q , A &gt; &lt;Q,A&gt;&lt;Q,A&gt;输入奖励模型，产生打分（奖励）</p>
<p>利用奖励信号评估策略的输出，通过强化学习算法来优化策略（比如 PPO模型）</p>
<p>创建一个循环来优化微调策略：通过新采样的数据，在强化学习过程中，策略会生成新的输出或行为，并根据奖励模型的反馈进行迭代优化。这个过程会不断重复，直到模型的性能达到满意的水平</p>
<p>图片</p>
<p><strong>容易发现，对于当前任务，我们可以梳理出一个新的步骤，其重点在于把步骤2的奖励模型替换成现有的评测系统。</strong></p>
<p><strong>这显然是可以等价的，细节区别是，由于奖励模型的评分基于人类，因此直接打分会导致标准不统一，所以最终使用的分数实际上是不同LM的排名结果进行归一化。但这一点，基于图距离和求解器的建模评测系统不需要在乎，因为系统计算的分数本就是标准统一的（本就是归一化的）。</strong></p>
<p><em>认为已经对大框架较为清晰，接下来就需要聚焦于步骤3，以此来看输入输出要求及精细的架构究竟如何。</em></p>
<h2 id="步骤三调研"><a href="#步骤三调研" class="headerlink" title="步骤三调研"></a>步骤三调研</h2><p>前略</p>
<p>老弟我真服了，玩我是吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">File ~/.cache/huggingface/modules/transformers_modules/chatglm3-6b/modeling_chatglm.py:413, in SelfAttention.forward(self, hidden_states, attention_mask, rotary_pos_emb, kv_cache, use_cache)</span><br><span class="line">    411 # adjust key and value for inference</span><br><span class="line">    412 if kv_cache is not None:</span><br><span class="line">--&gt; 413     cache_k, cache_v = kv_cache</span><br><span class="line">    414     key_layer = torch.cat((cache_k, key_layer), dim=0)</span><br><span class="line">    415     value_layer = torch.cat((cache_v, value_layer), dim=0)</span><br><span class="line"></span><br><span class="line">ValueError: too many values to unpack (expected 2)</span><br></pre></td></tr></table></figure>

<p>屡次测试glm训练都报类似的错，左右调试（下了llama3和gpt2等各种模型）都能跑通，就glm不行，我说咋了呢，对齐都对到模型层级别了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">model = AutoModel.from_pretrained(model_name)</span><br><span class="line">model.lm_head = model.transformer.output_layer</span><br><span class="line"><span class="keyword">del</span> model.transformer.output_layer</span><br><span class="line">model = AutoModelForCausalLMWithValueHead.from_pretrained(model)</span><br></pre></td></tr></table></figure>

<p><em>以上是glm没有lm_head层，本人精心排查后确定output_layer和lm_head同功能，因此进行了层名替换</em></p>
<p>终于是把需要的加载上了，结果还是不行，</p>
<p>24.07.18 问题解决</p>
<p>一开始还以为是glm下错了（事实证明这种思路是错误的，但也算和真相沾边）<br>使用glm4做其他任务时仍旧有类似情况发生，因此怀疑是包冲突或glm本身的问题，果然：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/THUDM/GLM-4/issues/263">glm-4-9b-chat-1m加载推理汇报错 · Issue #263 · THUDM&#x2F;GLM-4 · GitHub</a><br>测验<code>pip install transformers==4.40</code>后，成功运行。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/08/13/coding/2024-08-13-chatglm-PPO%E8%AE%AD%E7%BB%83%E8%B7%AF%E5%BE%84%E6%8E%A2%E7%B4%A2/" data-id="cmfp6md4l000esi2bcj5d1a8e" data-title="chatglm-PPO训练路径探索" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ppo/" rel="tag">ppo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/" rel="tag">模型训练</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/coding/">coding</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/debug/">debug</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/debug/coding/">coding</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/debug/linux/">linux</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/diary/">diary</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/diary/24%E5%B9%B4/">24年</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/">engineering</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/GPU/">GPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/LLM/">LLM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/environment/">environment</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/pool/">pool</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/win/">win</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/%E5%8A%A0%E9%80%9F/">加速</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/engineering/%E6%A8%A1%E5%9E%8B%E5%B7%A5%E7%A8%8B/">模型工程</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/environment/">environment</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/game/">game</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/language/">language</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/language/english/">english</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/math/">math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A3%A8%E5%88%80/">磨刀</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A3%A8%E5%88%80/obsidian/">obsidian</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E8%80%83/">软考</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E8%80%83/%E5%85%AC%E5%85%B1%E8%AF%BE/">公共课</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/A2E4D/" rel="tag">A2E4D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CUDA/" rel="tag">CUDA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SD/" rel="tag">SD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLite/" rel="tag">SQLite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/conda/" rel="tag">conda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/curl/" rel="tag">curl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/environment/" rel="tag">environment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/latex/" rel="tag">latex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ppo/" rel="tag">ppo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell%E8%84%9A%E6%9C%AC/" rel="tag">shell脚本</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/transformers/" rel="tag">transformers</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win/" rel="tag">win</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8B%E8%BD%BD/" rel="tag">下载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" rel="tag">多进程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%82%E6%AD%A5-%E5%8D%8F%E7%A8%8B/" rel="tag">异步&#x2F;协程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" rel="tag">数据处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/" rel="tag">文件传输</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/" rel="tag">模型训练</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" rel="tag">模型部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/" rel="tag">版本管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85/" rel="tag">猫国建设者</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%8B%E5%88%80%E9%B1%BC-%E6%98%AF%E5%A4%A7%E8%87%A3%E7%B2%BE%E8%AE%B2/" rel="tag">秋刀鱼-是大臣精讲</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0%E7%AE%A1%E7%90%86/" rel="tag">笔记管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B/" rel="tag">线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%98%E5%9B%BE/" rel="tag">绘图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E7%84%B6%E5%93%B2%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86/" rel="tag">自然哲学的数学原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD%E5%85%94%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">英语兔语法学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BA%E6%96%87/" rel="tag">论文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" rel="tag">软件工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%BB%91%E7%A7%91%E6%8A%80/" rel="tag">黑科技</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/A2E4D/" style="font-size: 10px;">A2E4D</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/Elasticsearch/" style="font-size: 12px;">Elasticsearch</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/SD/" style="font-size: 10px;">SD</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/conda/" style="font-size: 12px;">conda</a> <a href="/tags/curl/" style="font-size: 10px;">curl</a> <a href="/tags/docker/" style="font-size: 14px;">docker</a> <a href="/tags/environment/" style="font-size: 14px;">environment</a> <a href="/tags/github/" style="font-size: 12px;">github</a> <a href="/tags/latex/" style="font-size: 10px;">latex</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/ppo/" style="font-size: 10px;">ppo</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/shell%E8%84%9A%E6%9C%AC/" style="font-size: 10px;">shell脚本</a> <a href="/tags/ssh/" style="font-size: 12px;">ssh</a> <a href="/tags/transformers/" style="font-size: 10px;">transformers</a> <a href="/tags/win/" style="font-size: 12px;">win</a> <a href="/tags/%E4%B8%8B%E8%BD%BD/" style="font-size: 10px;">下载</a> <a href="/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" style="font-size: 10px;">多进程</a> <a href="/tags/%E5%BC%82%E6%AD%A5-%E5%8D%8F%E7%A8%8B/" style="font-size: 10px;">异步/协程</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" style="font-size: 14px;">数据处理</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/" style="font-size: 10px;">文件传输</a> <a href="/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/" style="font-size: 12px;">模型训练</a> <a href="/tags/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">模型部署</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 12px;">爬虫</a> <a href="/tags/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/" style="font-size: 10px;">版本管理</a> <a href="/tags/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85/" style="font-size: 10px;">猫国建设者</a> <a href="/tags/%E7%A7%8B%E5%88%80%E9%B1%BC-%E6%98%AF%E5%A4%A7%E8%87%A3%E7%B2%BE%E8%AE%B2/" style="font-size: 10px;">秋刀鱼-是大臣精讲</a> <a href="/tags/%E7%AC%94%E8%AE%B0%E7%AE%A1%E7%90%86/" style="font-size: 12px;">笔记管理</a> <a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 10px;">线程</a> <a href="/tags/%E7%BB%98%E5%9B%BE/" style="font-size: 10px;">绘图</a> <a href="/tags/%E8%87%AA%E7%84%B6%E5%93%B2%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86/" style="font-size: 14px;">自然哲学的数学原理</a> <a href="/tags/%E8%8B%B1%E8%AF%AD%E5%85%94%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 16px;">英语兔语法学习笔记</a> <a href="/tags/%E8%AE%BA%E6%96%87/" style="font-size: 12px;">论文</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a> <a href="/tags/%E9%BB%91%E7%A7%91%E6%8A%80/" style="font-size: 18px;">黑科技</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">September 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">July 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">May 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">April 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">October 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/09/18/aaa/">aaa</a>
          </li>
        
          <li>
            <a href="/2025/09/18/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2025/07/10/pool/2025-07-10-%E6%89%B9%E9%87%8F%E8%B0%83%E6%95%B4python%E8%84%9A%E6%9C%ACimport%E9%A1%BA%E5%BA%8F/">批量调整python脚本import顺序</a>
          </li>
        
          <li>
            <a href="/2025/05/22/pool/2025-05-22-sphinx%E6%96%87%E6%A1%A3%E6%9E%84%E5%BB%BA%E7%AC%94%E8%AE%B0/">sphinx文档构建笔记</a>
          </li>
        
          <li>
            <a href="/2025/05/06/pool/2025-05-06-AIR%20A%20Systematic%20Analysis%20of%20Annotations,%20Instructions,%20and%20Response%20Pairs%20in%20Preference%20Dataset/">AIR: A Systematic Analysis of Annotations, Instructions, and Response Pairs in Preference Dataset</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>